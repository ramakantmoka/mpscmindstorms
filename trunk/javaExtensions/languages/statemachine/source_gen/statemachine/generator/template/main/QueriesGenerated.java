package statemachine.generator.template.main;

/*Generated by MPS */

import jetbrains.mps.smodel.IOperationContext;
import jetbrains.mps.generator.template.PropertyMacroContext;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import statemachine.generator.template.util.Util;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.generator.template.ReferenceMacroContext;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.smodel.SNode;
import jetbrains.mps.typesystem.inference.TypeChecker;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.generator.template.IfMacroContext;
import jetbrains.mps.generator.template.SourceSubstituteMacroNodeContext;
import jetbrains.mps.generator.template.SourceSubstituteMacroNodesContext;
import jetbrains.mps.internal.collections.runtime.IWhereFilter;
import jetbrains.mps.internal.collections.runtime.Sequence;
import jetbrains.mps.internal.collections.runtime.ISelector;

public class QueriesGenerated {
  public static Object propertyMacro_GetPropertyValue_722852507502935556(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return "_ST_" + SPropertyOperations.getString(_context.getNode(), "name").toUpperCase();
  }

  public static Object propertyMacro_GetPropertyValue_722852507502935939(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.incrementCounter(_context, "stateCounter");
  }

  public static Object propertyMacro_GetPropertyValue_3574922806934731919(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "name");
  }

  public static Object propertyMacro_GetPropertyValue_3574922806934731943(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "name");
  }

  public static Object propertyMacro_GetPropertyValue_3574922806935299591(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "name");
  }

  public static Object propertyMacro_GetPropertyValue_3574922806935404340(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "name");
  }

  public static Object propertyMacro_GetPropertyValue_3597459965948787977(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return "Event" + Util.capitalize(SPropertyOperations.getString(_context.getNode(), "name"));
  }

  public static Object propertyMacro_GetPropertyValue_3597459965948788025(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "name");
  }

  public static Object propertyMacro_GetPropertyValue_3597459965948789254(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "name");
  }

  public static Object propertyMacro_GetPropertyValue_4084980135156684268(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "name");
  }

  public static Object propertyMacro_GetPropertyValue_6410652191458078607(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return "entering " + SPropertyOperations.getString(SLinkOperations.getTarget(_context.getNode(), "target", false), "name");
  }

  public static Object propertyMacro_GetPropertyValue_7715189151798016194(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getInteger(_context.getNode(), "timeout");
  }

  public static Object referenceMacro_GetReferent_232229242699210008(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return _context.getOutputNodeByInputNodeAndMappingLabel(SNodeOperations.getAncestor(_context.getNode(), "statemachine.structure.StatemachineClass", false, false), "eventVariable");
  }

  public static Object referenceMacro_GetReferent_232229242699212118(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    SNode t = SNodeOperations.getAncestor(_context.getNode(), "statemachine.structure.Transition", false, false);
    return _context.getOutputNodeByInputNodeAndMappingLabel(SLinkOperations.getTarget(SNodeOperations.cast(SLinkOperations.getTarget(t, "trigger", true), "statemachine.structure.NormalEventRef"), "event", false), "eventClass");
  }

  public static Object referenceMacro_GetReferent_3597459965948893614(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    SNode trigger = SLinkOperations.getTarget(_context.getNode(), "trigger", true);
    if (SNodeOperations.isInstanceOf(trigger, "statemachine.structure.NormalEventRef")) {
      return _context.getOutputNodeByInputNodeAndMappingLabel(SLinkOperations.getTarget(SNodeOperations.cast(SLinkOperations.getTarget(_context.getNode(), "trigger", true), "statemachine.structure.NormalEventRef"), "event", false), "eventClass");
    } else {
      return SNodeOperations.getNode("r:29ea5e38-d53b-420b-a8f6-a317dae0105a(statemachine_runtimeSupport)", "7715189151797555980");
    }
  }

  public static Object referenceMacro_GetReferent_4134182639603158303(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return _context.getOutputNodeByInputNodeAndMappingLabel(SLinkOperations.getTarget(_context.getNode(), "param", false), "eventProperty");
  }

  public static Object referenceMacro_GetReferent_6410652191457557866(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    SNode cls = SLinkOperations.getTarget(SNodeOperations.cast(TypeChecker.getInstance().getTypeOf(SLinkOperations.getTarget(_context.getNode(), "target", true)), "jetbrains.mps.baseLanguage.structure.ClassifierType"), "classifier", false);
    return _context.getOutputNodeByInputNodeAndMappingLabel(SNodeOperations.cast(cls, "statemachine.structure.StatemachineClass"), "executeMethod");
  }

  public static Object referenceMacro_GetReferent_6410652191457766715(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getOutputNodeByInputNodeAndMappingLabel(SLinkOperations.getTarget(_context.getNode(), "event", false), "eventClass"), "constructor", true)).first();
  }

  public static Object referenceMacro_GetReferent_6410652191457974516(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return _context.getOutputNodeByInputNodeAndMappingLabel(ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "states", true)).first(), "stateConstant");
  }

  public static Object referenceMacro_GetReferent_7715189151796245904(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return _context.getOutputNodeByInputNodeAndMappingLabel(SLinkOperations.getTarget(_context.getNode(), "target", false), "stateConstant");
  }

  public static boolean ifMacro_Condition_4506699033618361609(final IOperationContext operationContext, final IfMacroContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "guard", true) != null;
  }

  public static SNode sourceNodeQuery_3597459965948789208(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "type", true);
  }

  public static SNode sourceNodeQuery_3597459965948789244(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "type", true);
  }

  public static SNode sourceNodeQuery_4506699033618361568(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(SNodeOperations.cast(_context.getNode(), "statemachine.structure.MethodCallAction"), "call", true);
  }

  public static SNode sourceNodeQuery_4506699033618464603(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "guard", true);
  }

  public static SNode sourceNodeQuery_6410652191457456384(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "target", true);
  }

  public static SNode sourceNodeQuery_7715189151796142316(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(SNodeOperations.cast(_context.getNode(), "statemachine.structure.MethodCallAction"), "call", true);
  }

  public static Iterable sourceNodesQuery_722852507502935546(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "states", true);
  }

  public static Iterable sourceNodesQuery_722852507503039551(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "states", true);
  }

  public static Iterable sourceNodesQuery_3574922806934880310(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "states", true);
  }

  public static Iterable sourceNodesQuery_3574922806935297484(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "states", true);
  }

  public static Iterable sourceNodesQuery_3574922806935612151(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "states", true);
  }

  public static Iterable sourceNodesQuery_3597459965948785868(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "event", true);
  }

  public static Iterable sourceNodesQuery_3597459965948787998(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "parameter", true);
  }

  public static Iterable sourceNodesQuery_3597459965948789226(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "parameter", true);
  }

  public static Iterable sourceNodesQuery_3597459965948789270(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "parameter", true);
  }

  public static Iterable sourceNodesQuery_4084980135156684292(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "transition", true);
  }

  public static Iterable sourceNodesQuery_4084980135156788913(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "method", true);
  }

  public static Iterable sourceNodesQuery_4506699033618361576(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {

    return ListSequence.fromList(SLinkOperations.getTargets(SNodeOperations.cast(SLinkOperations.getTarget(_context.getNode(), "target", false), "statemachine.structure.State"), "entryAction", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "statemachine.structure.MethodCallAction");
      }
    });
  }

  public static Iterable sourceNodesQuery_6410652191457766749(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "actual", true);
  }

  public static Iterable sourceNodesQuery_6410652191458726331(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "field", true);
  }

  public static Iterable sourceNodesQuery_7715189151796142324(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {

    return ListSequence.fromList(SLinkOperations.getTargets(SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "statemachine.structure.State"), "exitAction", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "statemachine.structure.MethodCallAction");
      }
    });
  }

  public static Iterable sourceNodesQuery_7715189151798016139(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    Iterable<SNode> tr = ListSequence.fromList(SLinkOperations.getTargets(SLinkOperations.getTarget(_context.getNode(), "target", false), "transition", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(SLinkOperations.getTarget(it, "trigger", true), "statemachine.structure.TimeoutEventRef");
      }
    });
    return Sequence.fromIterable(tr).select(new ISelector<SNode, SNode>() {
      public SNode select(SNode it) {
        return SNodeOperations.cast(SLinkOperations.getTarget(it, "trigger", true), "statemachine.structure.TimeoutEventRef");
      }
    });
  }
}
