<?xml version="1.0" encoding="UTF-8"?>
<model modelUID="r:1f2e8b9d-8723-4109-be66-e20605022e16(ds.twowheel.generator.template.main@generator)">
  <persistence version="3" />
  <refactoringHistory />
  <language namespace="b401a680-8325-4110-8fd3-84331ff25bef(jetbrains.mps.lang.generator)" />
  <language namespace="d7706f63-9be2-479c-a3da-ae92af1e64d5(jetbrains.mps.lang.generator.generationContext)" />
  <language namespace="ceab5195-25ea-4f22-9b92-103b95ca8c0c(jetbrains.mps.lang.core)" />
  <language namespace="3a8b8671-1532-4e8f-b780-594a27fa10c8(med.core)" />
  <language namespace="98178bb4-0742-4461-bea6-9fc251a502fa(med.statemachine)" />
  <language namespace="f3061a53-9226-4cc5-a443-f952ceaf5816(jetbrains.mps.baseLanguage)" />
  <language namespace="690fcffe-d4e9-47ba-96cd-723f8e365186(med.tasks)" />
  <language namespace="83888646-71ce-4f1c-9c53-c54016f6ad4f(jetbrains.mps.baseLanguage.collections)" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590338(jetbrains.mps.baseLanguage.closures.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902fb(jetbrains.mps.lang.smodel.constraints)" version="21" />
  <languageAspect modelUID="r:ec9ea141-672c-4923-8a2a-dd6bf5b26fa2(med.core.structure)" version="9" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902e2(jetbrains.mps.lang.generator.constraints)" version="16" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590301(jetbrains.mps.lang.smodel.structure)" version="16" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ca(jetbrains.mps.baseLanguage.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902e8(jetbrains.mps.lang.generator.structure)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590292(jetbrains.mps.lang.structure.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902db(jetbrains.mps.baseLanguage.blTypes.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590571(jetbrains.mps.gtext.constraints)" version="8" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ba(jetbrains.mps.lang.sharedConcepts.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902c1(jetbrains.mps.baseLanguage.constraints)" version="83" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590283(jetbrains.mps.lang.core.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590334(jetbrains.mps.baseLanguage.closures.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902f3(jetbrains.mps.lang.generator.generationContext.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590575(jetbrains.mps.gtext.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902bc(jetbrains.mps.lang.sharedConcepts.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959028c(jetbrains.mps.lang.structure.constraints)" version="11" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959032e(jetbrains.mps.baseLanguage.collections.structure)" version="7" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959033d(jetbrains.mps.lang.annotations.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590345(jetbrains.mps.lang.pattern.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959034b(jetbrains.mps.lang.quotation.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902b4(jetbrains.mps.lang.typesystem.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ae(jetbrains.mps.lang.typesystem.constraints)" version="17" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590328(jetbrains.mps.baseLanguage.collections.constraints)" version="6" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590340(jetbrains.mps.lang.pattern.constraints)" version="2" />
  <languageAspect modelUID="r:348a1356-437b-49fe-80d1-3c4453a73611(ds.twowheel.structure)" version="1" />
  <devkit namespace="2677cb18-f558-4e33-bc38-a5139cee06dc(jetbrains.mps.devkit.language-design)" />
  <maxImportIndex value="5" />
  <import index="1" modelUID="r:348a1356-437b-49fe-80d1-3c4453a73611(ds.twowheel.structure)" version="1" />
  <import index="2" modelUID="f:java_stub#java.lang(java.lang@java_stub)" version="-1" />
  <import index="3" modelUID="r:c8babea4-61f6-419b-a34b-e5bc5729b115(ds.twowheel.behavior)" version="-1" />
  <import index="4" modelUID="r:b02d8e6e-6ce1-44d6-8357-4812e6e9817d(med.platform.nxtosek.rt)" version="-1" />
  <import index="5" modelUID="r:c6434d11-05f7-4f7f-b259-71e1e17b4db1(med.features.generator.template.main@generator)" version="-1" />
  <visible index="2" modelUID="r:998fdfa3-6fe3-4cb3-b9b5-7f97e90a9606(med.statemachine.structure)" />
  <node type="jetbrains.mps.lang.generator.structure.MappingConfiguration" id="6556431234483146301">
    <property name="name" value="main" />
    <property name="topPriorityGroup" value="true" />
    <node role="mappingLabel" type="jetbrains.mps.lang.generator.structure.MappingLabelDeclaration" id="6556431234483256473">
      <property name="name" value="stateForStep" />
      <link role="sourceConcept" targetNodeId="1.6556431234482831738" resolveInfo="RSStatement" />
      <link role="targetConcept" targetNodeId="2v.6254144863182652343" resolveInfo="State" />
    </node>
    <node role="reductionMappingRule" type="jetbrains.mps.lang.generator.structure.Reduction_MappingRule" id="6556431234483146302">
      <link role="applicableConcept" targetNodeId="1.6556431234482831736" resolveInfo="RobotScript" />
      <node role="ruleConsequence" type="jetbrains.mps.lang.generator.structure.TemplateDeclarationReference" id="6556431234483154927">
        <link role="template" targetNodeId="6556431234483154925" resolveInfo="reduce_RobotScript" />
      </node>
    </node>
    <node role="preMappingScript" type="jetbrains.mps.lang.generator.structure.MappingScriptReference" id="6177678091394531947">
      <link role="mappingScript" targetNodeId="5.8261019787197350453" resolveInfo="removeNonSelectedNodes" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.generator.structure.TemplateDeclaration" id="6556431234483154925">
    <property name="name" value="reduce_RobotScript" />
    <link role="applicableConcept" targetNodeId="1.6556431234482831736" resolveInfo="RobotScript" />
    <node role="contentNode" type="med.core.structure.ImplementationModule" id="6556431234483154928">
      <property name="name" value="impl" />
      <node role="contents" type="med.core.structure.ModuleVariable" id="5231257431510833001">
        <property name="name" value="stateLocalTime" />
        <node role="init" type="med.core.structure.IntConstantExpression" id="5231257431510833002">
          <property name="value" value="0" />
        </node>
        <node role="type" type="med.core.structure.GenericIntegerType" id="5231257431510833003" />
        <node role="templateFragment$attribute" type="jetbrains.mps.lang.generator.structure.TemplateFragment" id="5231257431510833004" />
      </node>
      <node role="contents" type="med.core.structure.ModuleVariable" id="5231257431510833005">
        <property name="name" value="currentLeftDelta" />
        <node role="init" type="med.core.structure.IntConstantExpression" id="5231257431510833006">
          <property name="value" value="0" />
        </node>
        <node role="type" type="med.core.structure.GenericIntegerType" id="5231257431510833007" />
        <node role="templateFragment$attribute" type="jetbrains.mps.lang.generator.structure.TemplateFragment" id="5231257431510833008" />
      </node>
      <node role="contents" type="med.core.structure.ModuleVariable" id="5231257431510833009">
        <property name="name" value="currentRightDelta" />
        <node role="init" type="med.core.structure.IntConstantExpression" id="5231257431510833010">
          <property name="value" value="0" />
        </node>
        <node role="type" type="med.core.structure.GenericIntegerType" id="5231257431510833011" />
        <node role="templateFragment$attribute" type="jetbrains.mps.lang.generator.structure.TemplateFragment" id="5231257431510833012" />
      </node>
      <node role="contents" type="med.core.structure.ModuleVariable" id="5231257431510833013">
        <property name="name" value="currentLeftSpeed" />
        <node role="init" type="med.core.structure.IntConstantExpression" id="5231257431510833014">
          <property name="value" value="0" />
        </node>
        <node role="type" type="med.core.structure.GenericIntegerType" id="5231257431510833015" />
        <node role="templateFragment$attribute" type="jetbrains.mps.lang.generator.structure.TemplateFragment" id="5231257431510833016" />
      </node>
      <node role="contents" type="med.core.structure.ModuleVariable" id="5231257431510833017">
        <property name="name" value="currentRightSpeed" />
        <node role="init" type="med.core.structure.IntConstantExpression" id="5231257431510833018">
          <property name="value" value="0" />
        </node>
        <node role="type" type="med.core.structure.GenericIntegerType" id="5231257431510833019" />
        <node role="templateFragment$attribute" type="jetbrains.mps.lang.generator.structure.TemplateFragment" id="5231257431510833020" />
      </node>
      <node role="contents" type="med.core.structure.ModuleVariable" id="5296414764969119574">
        <property name="name" value="bumped" />
        <node role="init" type="med.core.structure.FalseLiteral" id="5296414764969121756" />
        <node role="type" type="med.core.structure.BooleanType" id="5296414764969121755" />
        <node role="templateFragment$attribute" type="jetbrains.mps.lang.generator.structure.TemplateFragment" id="5296414764969121757" />
      </node>
      <node role="contents" type="med.statemachine.structure.Statemachine" id="6556431234483154929">
        <property name="name" value="smname" />
        <node role="templateFragment$attribute" type="jetbrains.mps.lang.generator.structure.TemplateFragment" id="6556431234483154930" />
        <node role="propertyMacro$property_attribute$name" type="jetbrains.mps.lang.generator.structure.PropertyMacro" id="6556431234483154931">
          <node role="propertyValueFunction" type="jetbrains.mps.lang.generator.structure.PropertyMacro_GetPropertyValue" id="6556431234483154932">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="6556431234483154933">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="6556431234483256323">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6556431234483256345">
                  <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="6556431234483256324" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="6556431234483256349">
                    <link role="baseMethodDeclaration" targetNodeId="3.6556431234483256328" resolveInfo="statemachineName" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="events" type="med.statemachine.structure.Event" id="6556431234483256380">
          <property name="name" value="timer" />
        </node>
        <node role="states" type="med.statemachine.structure.State" id="6556431234483256381">
          <property name="name" value="scriptStepState" />
          <property name="initial" value="false" />
          <node role="entry" type="med.statemachine.structure.EntryAction" id="5231257431512232642">
            <node role="body" type="med.core.structure.StatementList" id="5231257431512232643">
              <node role="statements" type="med.core.structure.AssignmentStatement" id="5231257431512232646">
                <node role="lvalue" type="med.core.structure.ModuleVariableRef" id="5231257431512232645">
                  <link role="variable" targetNodeId="5231257431510833001" resolveInfo="stateLocalTime" />
                </node>
                <node role="rvalue" type="med.core.structure.IntConstantExpression" id="5231257431512232650">
                  <property name="value" value="0" />
                </node>
              </node>
            </node>
          </node>
          <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.LoopMacro" id="6556431234483256383">
            <link role="mappingLabel" targetNodeId="6556431234483256473" resolveInfo="stateForStep" />
            <node role="sourceNodesQuery" type="jetbrains.mps.lang.generator.structure.SourceSubstituteMacro_SourceNodesQuery" id="6556431234483256384">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="6556431234483256385">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="6556431234483256386">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6556431234483256388">
                    <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="6556431234483256387" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="6177678091394406207">
                      <link role="baseMethodDeclaration" targetNodeId="3.6177678091394830739" resolveInfo="linearizedStatements" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="propertyMacro$property_attribute$name" type="jetbrains.mps.lang.generator.structure.PropertyMacro" id="6556431234483256393">
            <node role="propertyValueFunction" type="jetbrains.mps.lang.generator.structure.PropertyMacro_GetPropertyValue" id="6556431234483256394">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="6556431234483256395">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="6556431234483256440">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6556431234483256444">
                    <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="6556431234483256441" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="6556431234483256451">
                      <link role="baseMethodDeclaration" targetNodeId="3.6556431234483256399" resolveInfo="stateName" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="entry" type="med.statemachine.structure.EntryAction" id="5231257431512120248">
            <node role="body" type="med.core.structure.StatementList" id="5231257431512120249">
              <node role="statements" type="med.core.structure.AssignmentStatement" id="5231257431512122450">
                <node role="lvalue" type="med.core.structure.ModuleVariableRef" id="5231257431512122449">
                  <link role="variable" targetNodeId="5231257431510833005" resolveInfo="currentLeftDelta" />
                </node>
                <node role="rvalue" type="med.core.structure.IntConstantExpression" id="5231257431512122454">
                  <property name="value" value="0" />
                </node>
              </node>
              <node role="statements" type="med.core.structure.AssignmentStatement" id="5231257431512122458">
                <node role="lvalue" type="med.core.structure.ModuleVariableRef" id="5231257431512122457">
                  <link role="variable" targetNodeId="5231257431510833009" resolveInfo="currentRightDelta" />
                </node>
                <node role="rvalue" type="med.core.structure.IntConstantExpression" id="5231257431512122462">
                  <property name="value" value="0" />
                </node>
              </node>
            </node>
            <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.IfMacro" id="5231257431512122431">
              <node role="conditionFunction" type="jetbrains.mps.lang.generator.structure.IfMacro_Condition" id="5231257431512122432">
                <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5231257431512122433">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="5231257431512122434">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431512122438">
                      <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5231257431512122435" />
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="5231257431512122445">
                        <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="5231257431512122447">
                          <link role="conceptDeclaration" targetNodeId="1.5231257431511659312" resolveInfo="DriveOnStatement" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="entry" type="med.statemachine.structure.EntryAction" id="5231257431512122463">
            <node role="body" type="med.core.structure.StatementList" id="5231257431512122464">
              <node role="statements" type="med.core.structure.AssignmentStatement" id="5231257431512122467">
                <node role="lvalue" type="med.core.structure.ModuleVariableRef" id="5231257431512122466">
                  <link role="variable" targetNodeId="5231257431510833005" resolveInfo="currentLeftDelta" />
                </node>
                <node role="rvalue" type="med.core.structure.IntConstantExpression" id="5231257431512122471">
                  <property name="value" value="0" />
                </node>
              </node>
              <node role="statements" type="med.core.structure.AssignmentStatement" id="5231257431512122475">
                <node role="lvalue" type="med.core.structure.ModuleVariableRef" id="5231257431512122474">
                  <link role="variable" targetNodeId="5231257431510833009" resolveInfo="currentRightDelta" />
                </node>
                <node role="rvalue" type="med.core.structure.IntConstantExpression" id="5231257431512122479">
                  <property name="value" value="0" />
                </node>
              </node>
              <node role="statements" type="med.core.structure.AssignmentStatement" id="5231257431512122483">
                <node role="lvalue" type="med.core.structure.ModuleVariableRef" id="5231257431512122482">
                  <link role="variable" targetNodeId="5231257431510833013" resolveInfo="currentLeftSpeed" />
                </node>
                <node role="rvalue" type="med.core.structure.IntConstantExpression" id="5231257431512122487">
                  <property name="value" value="0" />
                </node>
              </node>
              <node role="statements" type="med.core.structure.AssignmentStatement" id="5231257431512122491">
                <node role="lvalue" type="med.core.structure.ModuleVariableRef" id="5231257431512122490">
                  <link role="variable" targetNodeId="5231257431510833017" resolveInfo="currentRightSpeed" />
                </node>
                <node role="rvalue" type="med.core.structure.IntConstantExpression" id="5231257431512122495">
                  <property name="value" value="0" />
                </node>
              </node>
            </node>
            <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.IfMacro" id="5231257431512122497">
              <node role="conditionFunction" type="jetbrains.mps.lang.generator.structure.IfMacro_Condition" id="5231257431512122498">
                <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5231257431512122499">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="5231257431512122500">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431512122504">
                      <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5231257431512122501" />
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="5231257431512122511">
                        <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="5231257431512122513">
                          <link role="conceptDeclaration" targetNodeId="1.6556431234482831795" resolveInfo="StopStatement" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="entry" type="med.statemachine.structure.EntryAction" id="8949829907855424211">
            <node role="body" type="med.core.structure.StatementList" id="8949829907855424212">
              <node role="statements" type="med.core.structure.AssignmentStatement" id="8949829907855426393">
                <node role="lvalue" type="med.core.structure.ModuleVariableRef" id="8949829907855426392">
                  <link role="variable" targetNodeId="5231257431510833005" resolveInfo="currentLeftDelta" />
                </node>
                <node role="rvalue" type="med.core.structure.IntConstantExpression" id="8949829907855426397">
                  <property name="value" value="0" />
                </node>
              </node>
              <node role="statements" type="med.core.structure.AssignmentStatement" id="8949829907855426401">
                <node role="lvalue" type="med.core.structure.ModuleVariableRef" id="8949829907855426400">
                  <link role="variable" targetNodeId="5231257431510833013" resolveInfo="currentLeftSpeed" />
                </node>
                <node role="rvalue" type="med.core.structure.IntConstantExpression" id="8949829907855426405">
                  <property name="value" value="0" />
                </node>
              </node>
            </node>
            <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.IfMacro" id="8949829907855426407">
              <node role="conditionFunction" type="jetbrains.mps.lang.generator.structure.IfMacro_Condition" id="8949829907855426408">
                <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="8949829907855426409">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="8949829907855426410">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="8949829907855426414">
                      <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="8949829907855426411" />
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="8949829907855426421">
                        <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="8949829907855426423">
                          <link role="conceptDeclaration" targetNodeId="1.8949829907855207219" resolveInfo="TurnAround" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="entry" type="med.statemachine.structure.EntryAction" id="5231257431512122514">
            <node role="body" type="med.core.structure.StatementList" id="5231257431512122515">
              <node role="statements" type="med.core.structure.AssignmentStatement" id="5231257431512122589">
                <node role="lvalue" type="med.core.structure.ModuleVariableRef" id="5231257431512122590">
                  <link role="variable" targetNodeId="5231257431510833005" resolveInfo="currentLeftDelta" />
                </node>
                <node role="rvalue" type="med.core.structure.ProcedureCall" id="5231257431512122591">
                  <link role="procedure" targetNodeId="5231257431511444158" resolveInfo="calcStep" />
                  <node role="actuals" type="med.core.structure.ModuleVariableRef" id="5231257431512122592">
                    <link role="variable" targetNodeId="5231257431510833013" resolveInfo="currentLeftSpeed" />
                  </node>
                  <node role="actuals" type="med.core.structure.IntConstantExpression" id="5231257431512122593">
                    <property name="value" value="10" />
                    <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.CopySrcNodeMacro" id="5231257431512122594">
                      <node role="sourceNodeQuery" type="jetbrains.mps.lang.generator.structure.SourceSubstituteMacro_SourceNodeQuery" id="5231257431512122595">
                        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5231257431512122596">
                          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="5231257431512122597">
                            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431512122598">
                              <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="5231257431512122599">
                                <link role="concept" targetNodeId="1.6556431234482831764" resolveInfo="AccelerateStatement" />
                                <node role="leftExpression" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5231257431512122600" />
                              </node>
                              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="5231257431512122601">
                                <link role="link" targetNodeId="1.6556431234482831766" />
                              </node>
                            </node>
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                  <node role="actuals" type="med.core.structure.IntConstantExpression" id="5231257431512122602">
                    <property name="value" value="1000" />
                    <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.CopySrcNodeMacro" id="5231257431512122603">
                      <node role="sourceNodeQuery" type="jetbrains.mps.lang.generator.structure.SourceSubstituteMacro_SourceNodeQuery" id="5231257431512122604">
                        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5231257431512122605">
                          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="5231257431512122606">
                            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431512122607">
                              <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="5231257431512122608">
                                <link role="concept" targetNodeId="1.6556431234482831764" resolveInfo="AccelerateStatement" />
                                <node role="leftExpression" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5231257431512122609" />
                              </node>
                              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="5231257431512122610">
                                <link role="link" targetNodeId="1.5231257431510415620" />
                              </node>
                            </node>
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="statements" type="med.core.structure.AssignmentStatement" id="5231257431512122537">
                <node role="lvalue" type="med.core.structure.ModuleVariableRef" id="5231257431512122613">
                  <link role="variable" targetNodeId="5231257431510833009" resolveInfo="currentRightDelta" />
                </node>
                <node role="rvalue" type="med.core.structure.ProcedureCall" id="5231257431512122541">
                  <link role="procedure" targetNodeId="5231257431511444158" resolveInfo="calcStep" />
                  <node role="actuals" type="med.core.structure.ModuleVariableRef" id="5231257431512122614">
                    <link role="variable" targetNodeId="5231257431510833017" resolveInfo="currentRightSpeed" />
                  </node>
                  <node role="actuals" type="med.core.structure.IntConstantExpression" id="5231257431512122546">
                    <property name="value" value="10" />
                    <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.CopySrcNodeMacro" id="5231257431512122550">
                      <node role="sourceNodeQuery" type="jetbrains.mps.lang.generator.structure.SourceSubstituteMacro_SourceNodeQuery" id="5231257431512122551">
                        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5231257431512122552">
                          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="5231257431512122553">
                            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431512122564">
                              <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="5231257431512122558">
                                <link role="concept" targetNodeId="1.6556431234482831764" resolveInfo="AccelerateStatement" />
                                <node role="leftExpression" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5231257431512122554" />
                              </node>
                              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="5231257431512122571">
                                <link role="link" targetNodeId="1.6556431234482831766" />
                              </node>
                            </node>
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                  <node role="actuals" type="med.core.structure.IntConstantExpression" id="5231257431512122548">
                    <property name="value" value="1000" />
                    <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.CopySrcNodeMacro" id="5231257431512122574">
                      <node role="sourceNodeQuery" type="jetbrains.mps.lang.generator.structure.SourceSubstituteMacro_SourceNodeQuery" id="5231257431512122575">
                        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5231257431512122576">
                          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="5231257431512122577">
                            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431512122578">
                              <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="5231257431512122579">
                                <link role="concept" targetNodeId="1.6556431234482831764" resolveInfo="AccelerateStatement" />
                                <node role="leftExpression" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5231257431512122580" />
                              </node>
                              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="5231257431512122584">
                                <link role="link" targetNodeId="1.5231257431510415620" />
                              </node>
                            </node>
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.IfMacro" id="5231257431512122517">
              <node role="conditionFunction" type="jetbrains.mps.lang.generator.structure.IfMacro_Condition" id="5231257431512122518">
                <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5231257431512122519">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="5231257431512122520">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431512122524">
                      <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5231257431512122521" />
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="5231257431512122532">
                        <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="5231257431512122534">
                          <link role="conceptDeclaration" targetNodeId="1.6556431234482831764" resolveInfo="AccelerateStatement" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="entry" type="med.statemachine.structure.EntryAction" id="5231257431512122616">
            <node role="body" type="med.core.structure.StatementList" id="5231257431512122617">
              <node role="statements" type="med.core.structure.AssignmentStatement" id="5231257431512122618">
                <node role="lvalue" type="med.core.structure.ModuleVariableRef" id="5231257431512122619">
                  <link role="variable" targetNodeId="5231257431510833005" resolveInfo="currentLeftDelta" />
                </node>
                <node role="rvalue" type="med.core.structure.ProcedureCall" id="5231257431512122620">
                  <link role="procedure" targetNodeId="5231257431511444158" resolveInfo="calcStep" />
                  <node role="actuals" type="med.core.structure.ModuleVariableRef" id="5231257431512122621">
                    <link role="variable" targetNodeId="5231257431510833013" resolveInfo="currentLeftSpeed" />
                  </node>
                  <node role="actuals" type="med.core.structure.IntConstantExpression" id="5231257431512122622">
                    <property name="value" value="10" />
                    <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.CopySrcNodeMacro" id="5231257431512122623">
                      <node role="sourceNodeQuery" type="jetbrains.mps.lang.generator.structure.SourceSubstituteMacro_SourceNodeQuery" id="5231257431512122624">
                        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5231257431512122625">
                          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="5231257431512122626">
                            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431512122627">
                              <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="5231257431512122628">
                                <link role="concept" targetNodeId="1.6556431234482831782" resolveInfo="DecelerateStatement" />
                                <node role="leftExpression" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5231257431512122629" />
                              </node>
                              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="5231257431512122679">
                                <link role="link" targetNodeId="1.6556431234482831783" />
                              </node>
                            </node>
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                  <node role="actuals" type="med.core.structure.IntConstantExpression" id="5231257431512122631">
                    <property name="value" value="1000" />
                    <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.CopySrcNodeMacro" id="5231257431512122632">
                      <node role="sourceNodeQuery" type="jetbrains.mps.lang.generator.structure.SourceSubstituteMacro_SourceNodeQuery" id="5231257431512122633">
                        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5231257431512122634">
                          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="5231257431512122635">
                            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431512122636">
                              <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="5231257431512122637">
                                <link role="concept" targetNodeId="1.6556431234482831782" resolveInfo="DecelerateStatement" />
                                <node role="leftExpression" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5231257431512122638" />
                              </node>
                              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="5231257431512122639">
                                <link role="link" targetNodeId="1.5231257431510415620" />
                              </node>
                            </node>
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="statements" type="med.core.structure.AssignmentStatement" id="5231257431512122640">
                <node role="lvalue" type="med.core.structure.ModuleVariableRef" id="5231257431512122641">
                  <link role="variable" targetNodeId="5231257431510833009" resolveInfo="currentRightDelta" />
                </node>
                <node role="rvalue" type="med.core.structure.ProcedureCall" id="5231257431512122642">
                  <link role="procedure" targetNodeId="5231257431511444158" resolveInfo="calcStep" />
                  <node role="actuals" type="med.core.structure.ModuleVariableRef" id="5231257431512122643">
                    <link role="variable" targetNodeId="5231257431510833017" resolveInfo="currentRightSpeed" />
                  </node>
                  <node role="actuals" type="med.core.structure.IntConstantExpression" id="5231257431512122644">
                    <property name="value" value="10" />
                    <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.CopySrcNodeMacro" id="5231257431512122645">
                      <node role="sourceNodeQuery" type="jetbrains.mps.lang.generator.structure.SourceSubstituteMacro_SourceNodeQuery" id="5231257431512122646">
                        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5231257431512122647">
                          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="5231257431512122648">
                            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431512122649">
                              <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="5231257431512122650">
                                <link role="concept" targetNodeId="1.6556431234482831782" resolveInfo="DecelerateStatement" />
                                <node role="leftExpression" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5231257431512122651" />
                              </node>
                              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="5231257431512122682">
                                <link role="link" targetNodeId="1.6556431234482831783" />
                              </node>
                            </node>
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                  <node role="actuals" type="med.core.structure.IntConstantExpression" id="5231257431512122653">
                    <property name="value" value="1000" />
                    <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.CopySrcNodeMacro" id="5231257431512122654">
                      <node role="sourceNodeQuery" type="jetbrains.mps.lang.generator.structure.SourceSubstituteMacro_SourceNodeQuery" id="5231257431512122655">
                        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5231257431512122656">
                          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="5231257431512122657">
                            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431512122658">
                              <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="5231257431512122659">
                                <link role="concept" targetNodeId="1.6556431234482831782" resolveInfo="DecelerateStatement" />
                                <node role="leftExpression" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5231257431512122660" />
                              </node>
                              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="5231257431512122685">
                                <link role="link" targetNodeId="1.5231257431510415620" />
                              </node>
                            </node>
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.IfMacro" id="5231257431512122662">
              <node role="conditionFunction" type="jetbrains.mps.lang.generator.structure.IfMacro_Condition" id="5231257431512122663">
                <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5231257431512122664">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="5231257431512122665">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431512122666">
                      <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5231257431512122667" />
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="5231257431512122668">
                        <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="5231257431512122675">
                          <link role="conceptDeclaration" targetNodeId="1.6556431234482831782" resolveInfo="DecelerateStatement" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="entry" type="med.statemachine.structure.EntryAction" id="5231257431512122585">
            <node role="body" type="med.core.structure.StatementList" id="5231257431512122586">
              <node role="statements" type="med.core.structure.AssignmentStatement" id="5231257431512122707">
                <node role="lvalue" type="med.core.structure.ModuleVariableRef" id="5231257431512122706">
                  <link role="variable" targetNodeId="5231257431510833013" resolveInfo="currentLeftSpeed" />
                </node>
                <node role="rvalue" type="med.core.structure.MinusExpression" id="5231257431512122712">
                  <node role="left" type="med.core.structure.ModuleVariableRef" id="5231257431512122711">
                    <link role="variable" targetNodeId="5231257431510833013" resolveInfo="currentLeftSpeed" />
                  </node>
                  <node role="right" type="med.core.structure.IntConstantExpression" id="5231257431512122718">
                    <property name="value" value="20" />
                  </node>
                </node>
              </node>
            </node>
            <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.IfMacro" id="5231257431512122687">
              <node role="conditionFunction" type="jetbrains.mps.lang.generator.structure.IfMacro_Condition" id="5231257431512122688">
                <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5231257431512122689">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="5231257431512122690">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431512122694">
                      <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5231257431512122691" />
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="5231257431512122701">
                        <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="5231257431512122704">
                          <link role="conceptDeclaration" targetNodeId="1.5231257431511773188" resolveInfo="TurnLeftStatement" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="entry" type="med.statemachine.structure.EntryAction" id="5231257431512122719">
            <node role="body" type="med.core.structure.StatementList" id="5231257431512122720">
              <node role="statements" type="med.core.structure.AssignmentStatement" id="5231257431512122721">
                <node role="lvalue" type="med.core.structure.ModuleVariableRef" id="5231257431512122736">
                  <link role="variable" targetNodeId="5231257431510833017" resolveInfo="currentRightSpeed" />
                </node>
                <node role="rvalue" type="med.core.structure.MinusExpression" id="5231257431512122723">
                  <node role="left" type="med.core.structure.ModuleVariableRef" id="5231257431512122737">
                    <link role="variable" targetNodeId="5231257431510833017" resolveInfo="currentRightSpeed" />
                  </node>
                  <node role="right" type="med.core.structure.IntConstantExpression" id="5231257431512122725">
                    <property name="value" value="20" />
                  </node>
                </node>
              </node>
            </node>
            <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.IfMacro" id="5231257431512122726">
              <node role="conditionFunction" type="jetbrains.mps.lang.generator.structure.IfMacro_Condition" id="5231257431512122727">
                <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5231257431512122728">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="5231257431512122729">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431512122730">
                      <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5231257431512122731" />
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="5231257431512122732">
                        <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="5231257431512122735">
                          <link role="conceptDeclaration" targetNodeId="1.5231257431511773205" resolveInfo="TurnRightStatement" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="transitions" type="med.statemachine.structure.Transition" id="6177678091395801195">
            <link role="target" targetNodeId="6556431234483256470" resolveInfo="initial" />
            <link role="trigger" targetNodeId="6556431234483256380" resolveInfo="timer" />
            <node role="guard" type="med.core.structure.ModuleVariableRef" id="5296414764969121773">
              <link role="variable" targetNodeId="5296414764969119574" resolveInfo="bumped" />
            </node>
            <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.IfMacro" id="6177678091395801198">
              <node role="conditionFunction" type="jetbrains.mps.lang.generator.structure.IfMacro_Condition" id="6177678091395801199">
                <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="6177678091395801200">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="5296414764969019039">
                    <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5296414764969019040">
                      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="5296414764969019070">
                        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5296414764969019071">
                          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="5296414764969019089">
                            <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="5296414764969019091">
                              <property name="value" value="true" />
                            </node>
                          </node>
                        </node>
                        <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="5296414764969019084">
                          <node role="rightExpression" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5296414764969019087" />
                          <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5296414764969789177">
                            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5296414764969019077">
                              <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5296414764969019074" />
                              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="5296414764969019083">
                                <link role="baseMethodDeclaration" targetNodeId="3.6177678091395801141" resolveInfo="bumpReaction" />
                              </node>
                            </node>
                            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="5296414764969789182">
                              <link role="baseMethodDeclaration" targetNodeId="3.5296414764969568700" resolveInfo="effectiveStep" />
                            </node>
                          </node>
                        </node>
                      </node>
                    </node>
                    <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="5296414764969019053">
                      <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="5296414764969019056" />
                      <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5296414764969019046">
                        <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5296414764969019043" />
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="5296414764969019052">
                          <link role="baseMethodDeclaration" targetNodeId="3.6177678091395801141" resolveInfo="bumpReaction" />
                        </node>
                      </node>
                    </node>
                  </node>
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="5296414764969019067">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="5296414764969019069">
                      <property name="value" value="false" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="referenceMacro$link_attribute$target" type="jetbrains.mps.lang.generator.structure.ReferenceMacro" id="6177678091395801217">
              <node role="referentFunction" type="jetbrains.mps.lang.generator.structure.ReferenceMacro_GetReferent" id="6177678091395801218">
                <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="6177678091395801219">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="6177678091395801220">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6177678091395801222">
                      <node role="operand" type="jetbrains.mps.lang.generator.generationContext.structure.TemplateFunctionParameter_generationContext" id="6177678091395801221" />
                      <node role="operation" type="jetbrains.mps.lang.generator.generationContext.structure.GenerationContextOp_GetOutputByLabelAndInput" id="6177678091395801226">
                        <link role="label" targetNodeId="6556431234483256473" resolveInfo="stateForStep" />
                        <node role="inputNode" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5296414764969568777">
                          <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6177678091395801231">
                            <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="6177678091395801228" />
                            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="6177678091395801237">
                              <link role="baseMethodDeclaration" targetNodeId="3.6177678091395801141" resolveInfo="bumpReaction" />
                            </node>
                          </node>
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="5296414764969568781">
                            <link role="baseMethodDeclaration" targetNodeId="3.5296414764969568700" resolveInfo="effectiveStep" />
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="trigger" type="med.statemachine.structure.EventTrigger" id="1265321504641200376">
              <link role="event" targetNodeId="6556431234483256380" resolveInfo="timer" />
            </node>
          </node>
          <node role="transitions" type="med.statemachine.structure.Transition" id="5231257431510517656">
            <link role="trigger" targetNodeId="6556431234483256380" resolveInfo="timer" />
            <link role="target" targetNodeId="6556431234483256470" resolveInfo="initial" />
            <node role="guard" type="med.core.structure.TrueLiteral" id="5231257431510517657" />
            <node role="referenceMacro$link_attribute$target" type="jetbrains.mps.lang.generator.structure.ReferenceMacro" id="5231257431510519951">
              <node role="referentFunction" type="jetbrains.mps.lang.generator.structure.ReferenceMacro_GetReferent" id="5231257431510519952">
                <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5231257431510519953">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="5231257431510519959">
                    <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="5231257431510519960">
                      <property name="name" value="next" />
                      <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="5231257431510519961">
                        <link role="concept" targetNodeId="1.6556431234482831738" resolveInfo="RSStatement" />
                      </node>
                      <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431510519966">
                        <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5231257431510519963" />
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="5231257431510519973">
                          <link role="baseMethodDeclaration" targetNodeId="3.5231257431510519855" resolveInfo="nextStep" />
                        </node>
                      </node>
                    </node>
                  </node>
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="5231257431510519990">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431510519992">
                      <node role="operand" type="jetbrains.mps.lang.generator.generationContext.structure.TemplateFunctionParameter_generationContext" id="5231257431510519991" />
                      <node role="operation" type="jetbrains.mps.lang.generator.generationContext.structure.GenerationContextOp_GetOutputByLabelAndInput" id="5231257431510519996">
                        <link role="label" targetNodeId="6556431234483256473" resolveInfo="stateForStep" />
                        <node role="inputNode" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5296414764969570960">
                          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="5231257431510519998">
                            <link role="variableDeclaration" targetNodeId="5231257431510519960" resolveInfo="next" />
                          </node>
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="5296414764969570964">
                            <link role="baseMethodDeclaration" targetNodeId="3.5296414764969568700" resolveInfo="effectiveStep" />
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.IfMacro" id="5231257431510520000">
              <node role="conditionFunction" type="jetbrains.mps.lang.generator.structure.IfMacro_Condition" id="5231257431510520001">
                <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5231257431510520002">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="5231257431510520003">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.AndExpression" id="5231257431511342745">
                      <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="5231257431511342762">
                        <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431511342763">
                          <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5231257431511342764" />
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="5231257431511342765">
                            <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="5231257431511342766">
                              <link role="conceptDeclaration" targetNodeId="1.5231257431510415618" resolveInfo="ContinuousStatement" />
                            </node>
                          </node>
                        </node>
                      </node>
                      <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431510520015">
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431510520007">
                          <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5231257431510520004" />
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="5231257431510520014">
                            <link role="baseMethodDeclaration" targetNodeId="3.5231257431510519855" resolveInfo="nextStep" />
                          </node>
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsNotNullOperation" id="5231257431510520019" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="trigger" type="med.statemachine.structure.EventTrigger" id="1265321504641200377">
              <link role="event" targetNodeId="6556431234483256380" resolveInfo="timer" />
            </node>
          </node>
          <node role="transitions" type="med.statemachine.structure.Transition" id="5231257431511342769">
            <link role="trigger" targetNodeId="6556431234483256380" resolveInfo="timer" />
            <link role="target" targetNodeId="6556431234483256470" resolveInfo="initial" />
            <node role="referenceMacro$link_attribute$target" type="jetbrains.mps.lang.generator.structure.ReferenceMacro" id="5231257431511342771">
              <node role="referentFunction" type="jetbrains.mps.lang.generator.structure.ReferenceMacro_GetReferent" id="5231257431511342772">
                <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5231257431511342773">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="5231257431511342774">
                    <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="5231257431511342775">
                      <property name="name" value="next" />
                      <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="5231257431511342776">
                        <link role="concept" targetNodeId="1.6556431234482831738" resolveInfo="RSStatement" />
                      </node>
                      <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431511342777">
                        <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5231257431511342778" />
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="5231257431511342779">
                          <link role="baseMethodDeclaration" targetNodeId="3.5231257431510519855" resolveInfo="nextStep" />
                        </node>
                      </node>
                    </node>
                  </node>
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="5231257431511342780">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431511342781">
                      <node role="operand" type="jetbrains.mps.lang.generator.generationContext.structure.TemplateFunctionParameter_generationContext" id="5231257431511342782" />
                      <node role="operation" type="jetbrains.mps.lang.generator.generationContext.structure.GenerationContextOp_GetOutputByLabelAndInput" id="5231257431511342783">
                        <link role="label" targetNodeId="6556431234483256473" resolveInfo="stateForStep" />
                        <node role="inputNode" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5296414764969570965">
                          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="5231257431511342784">
                            <link role="variableDeclaration" targetNodeId="5231257431511342775" resolveInfo="next" />
                          </node>
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="5296414764969570969">
                            <link role="baseMethodDeclaration" targetNodeId="3.5296414764969568700" resolveInfo="effectiveStep" />
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.IfMacro" id="5231257431511342785">
              <node role="conditionFunction" type="jetbrains.mps.lang.generator.structure.IfMacro_Condition" id="5231257431511342786">
                <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5231257431511342787">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="5231257431511342788">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.AndExpression" id="5231257431511342789">
                      <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431511342791">
                        <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5231257431511342792" />
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="5231257431511342793">
                          <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="5231257431511342794">
                            <link role="conceptDeclaration" targetNodeId="1.5231257431510415618" resolveInfo="ContinuousStatement" />
                          </node>
                        </node>
                      </node>
                      <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431511342795">
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431511342796">
                          <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5231257431511342797" />
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="5231257431511342798">
                            <link role="baseMethodDeclaration" targetNodeId="3.5231257431510519855" resolveInfo="nextStep" />
                          </node>
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsNotNullOperation" id="5231257431511342799" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="guard" type="med.core.structure.GreaterExpression" id="5231257431511342804">
              <node role="left" type="med.core.structure.ModuleVariableRef" id="5231257431511342803">
                <link role="variable" targetNodeId="5231257431510833001" resolveInfo="stateLocalTime" />
              </node>
              <node role="right" type="med.core.structure.IntConstantExpression" id="5231257431511342808">
                <property name="value" value="10" />
                <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.CopySrcNodeMacro" id="5231257431511342832">
                  <node role="sourceNodeQuery" type="jetbrains.mps.lang.generator.structure.SourceSubstituteMacro_SourceNodeQuery" id="5231257431511342833">
                    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5231257431511342834">
                      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="5231257431511342835">
                        <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431511342836">
                          <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="5231257431511342837">
                            <link role="concept" targetNodeId="1.5231257431510415618" resolveInfo="ContinuousStatement" />
                            <node role="leftExpression" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5231257431511342838" />
                          </node>
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="5231257431511342839">
                            <link role="link" targetNodeId="1.5231257431510415620" />
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="trigger" type="med.statemachine.structure.EventTrigger" id="1265321504641200378">
              <link role="event" targetNodeId="6556431234483256380" resolveInfo="timer" />
            </node>
          </node>
          <node role="exit" type="med.statemachine.structure.ExitAction" id="5231257431512122738">
            <node role="body" type="med.core.structure.StatementList" id="5231257431512122739">
              <node role="statements" type="med.core.structure.AssignmentStatement" id="5231257431512122770">
                <node role="lvalue" type="med.core.structure.ModuleVariableRef" id="5231257431512122771">
                  <link role="variable" targetNodeId="5231257431510833013" resolveInfo="currentLeftSpeed" />
                </node>
                <node role="rvalue" type="med.core.structure.PlusExpression" id="5231257431512122776">
                  <node role="left" type="med.core.structure.ModuleVariableRef" id="5231257431512122775">
                    <link role="variable" targetNodeId="5231257431510833013" resolveInfo="currentLeftSpeed" />
                  </node>
                  <node role="right" type="med.core.structure.IntConstantExpression" id="5231257431512122780">
                    <property name="value" value="20" />
                  </node>
                </node>
              </node>
            </node>
            <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.IfMacro" id="5231257431512122741">
              <node role="conditionFunction" type="jetbrains.mps.lang.generator.structure.IfMacro_Condition" id="5231257431512122742">
                <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5231257431512122743">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="5231257431512122744">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431512122758">
                      <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5231257431512122745" />
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="5231257431512122765">
                        <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="5231257431512122768">
                          <link role="conceptDeclaration" targetNodeId="1.5231257431511773188" resolveInfo="TurnLeftStatement" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="exit" type="med.statemachine.structure.ExitAction" id="5231257431512122781">
            <node role="body" type="med.core.structure.StatementList" id="5231257431512122782">
              <node role="statements" type="med.core.structure.AssignmentStatement" id="5231257431512122783">
                <node role="rvalue" type="med.core.structure.PlusExpression" id="5231257431512122785">
                  <node role="left" type="med.core.structure.ModuleVariableRef" id="5231257431512122799">
                    <link role="variable" targetNodeId="5231257431510833017" resolveInfo="currentRightSpeed" />
                  </node>
                  <node role="right" type="med.core.structure.IntConstantExpression" id="5231257431512122787">
                    <property name="value" value="20" />
                  </node>
                </node>
                <node role="lvalue" type="med.core.structure.ModuleVariableRef" id="5231257431512122798">
                  <link role="variable" targetNodeId="5231257431510833017" resolveInfo="currentRightSpeed" />
                </node>
              </node>
            </node>
            <node role="nodeMacro$attribute" type="jetbrains.mps.lang.generator.structure.IfMacro" id="5231257431512122788">
              <node role="conditionFunction" type="jetbrains.mps.lang.generator.structure.IfMacro_Condition" id="5231257431512122789">
                <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5231257431512122790">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="5231257431512122791">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5231257431512122792">
                      <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="5231257431512122793" />
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="5231257431512122794">
                        <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="5231257431512122797">
                          <link role="conceptDeclaration" targetNodeId="1.5231257431511773205" resolveInfo="TurnRightStatement" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="states" type="med.statemachine.structure.State" id="6556431234483256470">
          <property name="name" value="initial" />
          <property name="initial" value="true" />
          <node role="transitions" type="med.statemachine.structure.Transition" id="6556431234483256471">
            <link role="trigger" targetNodeId="6556431234483256380" resolveInfo="timer" />
            <link role="target" targetNodeId="6556431234483256381" resolveInfo="scriptStepState" />
            <node role="guard" type="med.core.structure.TrueLiteral" id="6556431234483256472" />
            <node role="referenceMacro$link_attribute$target" type="jetbrains.mps.lang.generator.structure.ReferenceMacro" id="6556431234483256475">
              <node role="referentFunction" type="jetbrains.mps.lang.generator.structure.ReferenceMacro_GetReferent" id="6556431234483256476">
                <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="6556431234483256477">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="6556431234483256478">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6556431234483256480">
                      <node role="operand" type="jetbrains.mps.lang.generator.generationContext.structure.TemplateFunctionParameter_generationContext" id="6556431234483256479" />
                      <node role="operation" type="jetbrains.mps.lang.generator.generationContext.structure.GenerationContextOp_GetOutputByLabelAndInput" id="6556431234483256484">
                        <link role="label" targetNodeId="6556431234483256473" resolveInfo="stateForStep" />
                        <node role="inputNode" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5296414764969673881">
                          <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6556431234483256492">
                            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6556431234483256487">
                              <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="6556431234483256486" />
                              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="6177678091395461029">
                                <link role="baseMethodDeclaration" targetNodeId="3.6177678091394830739" resolveInfo="linearizedStatements" />
                              </node>
                            </node>
                            <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetFirstOperation" id="6556431234483256496" />
                          </node>
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="5296414764969673888">
                            <link role="baseMethodDeclaration" targetNodeId="3.5296414764969568700" resolveInfo="effectiveStep" />
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="trigger" type="med.statemachine.structure.EventTrigger" id="1265321504641200379">
              <link role="event" targetNodeId="6556431234483256380" resolveInfo="timer" />
            </node>
          </node>
        </node>
      </node>
      <node role="contents" type="med.tasks.structure.Task" id="6556431234483256351">
        <property name="name" value="taskname" />
        <node role="body" type="med.core.structure.StatementList" id="6556431234483256352">
          <node role="statements" type="med.core.structure.AssignmentStatement" id="5231257431510415607">
            <node role="lvalue" type="med.core.structure.ModuleVariableRef" id="5231257431510415606">
              <link role="variable" targetNodeId="5231257431510833001" resolveInfo="stateLocalTime" />
            </node>
            <node role="rvalue" type="med.core.structure.PlusExpression" id="5231257431510415612">
              <node role="left" type="med.core.structure.ModuleVariableRef" id="5231257431510415611">
                <link role="variable" targetNodeId="5231257431510833001" resolveInfo="stateLocalTime" />
              </node>
              <node role="right" type="med.core.structure.IntConstantExpression" id="5231257431510415617">
                <property name="value" value="100" />
              </node>
            </node>
          </node>
          <node role="statements" type="med.core.structure.AssignmentStatement" id="5231257431510210870">
            <node role="lvalue" type="med.core.structure.ModuleVariableRef" id="5231257431510210869">
              <link role="variable" targetNodeId="5231257431510833013" resolveInfo="currentLeftSpeed" />
            </node>
            <node role="rvalue" type="med.core.structure.PlusExpression" id="5231257431510210875">
              <node role="left" type="med.core.structure.ModuleVariableRef" id="5231257431510210874">
                <link role="variable" targetNodeId="5231257431510833013" resolveInfo="currentLeftSpeed" />
              </node>
              <node role="right" type="med.core.structure.ModuleVariableRef" id="5231257431510210879">
                <link role="variable" targetNodeId="5231257431510833005" resolveInfo="currentLeftDelta" />
              </node>
            </node>
          </node>
          <node role="statements" type="med.core.structure.AssignmentStatement" id="5231257431510210883">
            <node role="lvalue" type="med.core.structure.ModuleVariableRef" id="5231257431510210882">
              <link role="variable" targetNodeId="5231257431510833017" resolveInfo="currentRightSpeed" />
            </node>
            <node role="rvalue" type="med.core.structure.PlusExpression" id="5231257431510210888">
              <node role="left" type="med.core.structure.ModuleVariableRef" id="5231257431510210887">
                <link role="variable" targetNodeId="5231257431510833017" resolveInfo="currentRightSpeed" />
              </node>
              <node role="right" type="med.core.structure.ModuleVariableRef" id="5231257431510210892">
                <link role="variable" targetNodeId="5231257431510833009" resolveInfo="currentRightDelta" />
              </node>
            </node>
          </node>
          <node role="statements" type="med.core.structure.ExpressionStatement" id="5231257431510313244">
            <node role="expression" type="med.core.structure.ProcedureCall" id="5231257431510313245">
              <link role="procedure" targetNodeId="4.5196379128662886664" resolveInfo="nxt_motor_set_speed" />
              <node role="actuals" type="med.core.structure.EnumLiteralRef" id="5231257431510313246">
                <link role="literal" targetNodeId="4.5196379128662886662" resolveInfo="NXT_PORT_B" />
              </node>
              <node role="actuals" type="med.core.structure.ModuleVariableRef" id="5231257431510313247">
                <link role="variable" targetNodeId="5231257431510833013" resolveInfo="currentLeftSpeed" />
              </node>
              <node role="actuals" type="med.core.structure.IntConstantExpression" id="5231257431510313248">
                <property name="value" value="1" />
              </node>
              <node role="moduleDependencyAnnotation$attribute" type="med.core.structure.ModuleDependency" id="5231257431510727753">
                <node role="import" type="med.core.structure.ModuleImport" id="5231257431510729933">
                  <link role="importedModule" targetNodeId="4.3454436015656157027" resolveInfo="EcAPI" />
                </node>
              </node>
            </node>
          </node>
          <node role="statements" type="med.core.structure.ExpressionStatement" id="5231257431510313249">
            <node role="expression" type="med.core.structure.ProcedureCall" id="5231257431510313250">
              <link role="procedure" targetNodeId="4.5196379128662886664" resolveInfo="nxt_motor_set_speed" />
              <node role="actuals" type="med.core.structure.EnumLiteralRef" id="5231257431510313251">
                <link role="literal" targetNodeId="4.5196379128662886663" resolveInfo="NXT_PORT_C" />
              </node>
              <node role="actuals" type="med.core.structure.ModuleVariableRef" id="5231257431510313252">
                <link role="variable" targetNodeId="5231257431510833017" resolveInfo="currentRightSpeed" />
              </node>
              <node role="actuals" type="med.core.structure.IntConstantExpression" id="5231257431510313253">
                <property name="value" value="1" />
              </node>
            </node>
          </node>
          <node role="statements" type="med.statemachine.structure.FireEventStatement" id="5231257431510210894">
            <link role="machine" targetNodeId="6556431234483154929" resolveInfo="smname" />
            <link role="trigger" targetNodeId="6556431234483256380" resolveInfo="timer" />
          </node>
        </node>
        <node role="scheduling" type="med.tasks.structure.SchedulingPolicyCyclic" id="6556431234483256354">
          <property name="priority" value="1" />
          <property name="every" value="100" />
        </node>
        <node role="templateFragment$attribute" type="jetbrains.mps.lang.generator.structure.TemplateFragment" id="6556431234483256355" />
        <node role="propertyMacro$property_attribute$name" type="jetbrains.mps.lang.generator.structure.PropertyMacro" id="6556431234483256356">
          <node role="propertyValueFunction" type="jetbrains.mps.lang.generator.structure.PropertyMacro_GetPropertyValue" id="6556431234483256357">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="6556431234483256358">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="6556431234483256373">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6556431234483256375">
                  <node role="operand" type="jetbrains.mps.lang.generator.structure.TemplateFunctionParameter_sourceNode" id="6556431234483256374" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="6556431234483256379">
                    <link role="baseMethodDeclaration" targetNodeId="3.6556431234483256363" resolveInfo="taskName" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="contents" type="med.tasks.structure.Task" id="6177678091395798885">
        <property name="name" value="bumpercheck" />
        <node role="body" type="med.core.structure.StatementList" id="6177678091395798886">
          <node role="statements" type="med.core.structure.IfStatement" id="6177678091395801068">
            <node role="thenPart" type="med.core.structure.StatementList" id="6177678091395801069">
              <node role="statements" type="med.core.structure.AssignmentStatement" id="5296414764969121760">
                <node role="lvalue" type="med.core.structure.ModuleVariableRef" id="5296414764969121759">
                  <link role="variable" targetNodeId="5296414764969119574" resolveInfo="bumped" />
                </node>
                <node role="rvalue" type="med.core.structure.TrueLiteral" id="5296414764969121764" />
              </node>
              <node role="statements" type="med.core.structure.ExpressionStatement" id="5296414764969230911">
                <node role="expression" type="med.core.structure.ProcedureCall" id="5296414764969230912">
                  <link role="procedure" targetNodeId="4.5196379128662641915" resolveInfo="display_goto_xy" />
                  <node role="actuals" type="med.core.structure.IntConstantExpression" id="5296414764969230914">
                    <property name="value" value="0" />
                  </node>
                  <node role="actuals" type="med.core.structure.IntConstantExpression" id="5296414764969230916">
                    <property name="value" value="0" />
                  </node>
                </node>
              </node>
              <node role="statements" type="med.core.structure.ExpressionStatement" id="5296414764969230918">
                <node role="expression" type="med.core.structure.ProcedureCall" id="5296414764969230919">
                  <link role="procedure" targetNodeId="4.5196379128662641950" resolveInfo="display_string" />
                  <node role="actuals" type="med.core.structure.StringConstantExpression" id="5296414764969230924">
                    <property name="value" value="bumped" />
                  </node>
                </node>
              </node>
              <node role="statements" type="med.core.structure.ExpressionStatement" id="5296414764969230926">
                <node role="expression" type="med.core.structure.ProcedureCall" id="5296414764969230927">
                  <link role="procedure" targetNodeId="4.5196379128662886855" resolveInfo="display_update" />
                </node>
              </node>
            </node>
            <node role="condition" type="med.core.structure.EqualsExpression" id="6177678091395801078">
              <node role="right" type="med.core.structure.IntConstantExpression" id="6177678091395801083">
                <property name="value" value="1" />
              </node>
              <node role="left" type="med.core.structure.ProcedureCall" id="6177678091395801081">
                <link role="procedure" targetNodeId="4.6177678091395801071" resolveInfo="ecrobot_get_touch_sensor" />
                <node role="actuals" type="med.core.structure.EnumLiteralRef" id="5296414764969338238">
                  <link role="literal" targetNodeId="4.5196379128661020617" resolveInfo="NXT_PORT_S3" />
                </node>
              </node>
            </node>
            <node role="elsePart" type="med.core.structure.StatementList" id="5296414764969121765">
              <node role="statements" type="med.core.structure.AssignmentStatement" id="5296414764969121768">
                <node role="lvalue" type="med.core.structure.ModuleVariableRef" id="5296414764969121767">
                  <link role="variable" targetNodeId="5296414764969119574" resolveInfo="bumped" />
                </node>
                <node role="rvalue" type="med.core.structure.FalseLiteral" id="5296414764969121772" />
              </node>
            </node>
          </node>
        </node>
        <node role="scheduling" type="med.tasks.structure.SchedulingPolicyCyclic" id="6177678091395798888">
          <property name="priority" value="1" />
          <property name="every" value="1" />
        </node>
        <node role="templateFragment$attribute" type="jetbrains.mps.lang.generator.structure.TemplateFragment" id="6177678091395798889" />
      </node>
      <node role="contents" type="med.core.structure.Procedure" id="5231257431511444158">
        <property name="name" value="calcStep" />
        <node role="parameters" type="med.core.structure.ProcedureParameter" id="5231257431511446340">
          <property name="name" value="currSpeed" />
          <node role="type" type="med.core.structure.GenericIntegerType" id="5231257431511446342" />
        </node>
        <node role="parameters" type="med.core.structure.ProcedureParameter" id="5231257431511446343">
          <property name="name" value="newSpeed" />
          <node role="type" type="med.core.structure.GenericIntegerType" id="5231257431511446345" />
        </node>
        <node role="parameters" type="med.core.structure.ProcedureParameter" id="5231257431511446346">
          <property name="name" value="time" />
          <node role="type" type="med.core.structure.GenericIntegerType" id="5231257431511446348" />
        </node>
        <node role="body" type="med.core.structure.StatementList" id="5231257431511444159">
          <node role="statements" type="med.core.structure.LocalVariableDeclaration" id="5231257431511446349">
            <property name="name" value="ds" />
            <node role="type" type="med.core.structure.GenericIntegerType" id="5231257431511446350" />
            <node role="init" type="med.core.structure.MinusExpression" id="5231257431511446353">
              <node role="left" type="med.core.structure.ParameterReference" id="5231257431511446352">
                <link role="parameter" targetNodeId="5231257431511446343" resolveInfo="newSpeed" />
              </node>
              <node role="right" type="med.core.structure.ParameterReference" id="5231257431511446357">
                <link role="parameter" targetNodeId="5231257431511446340" resolveInfo="currSpeed" />
              </node>
            </node>
          </node>
          <node role="statements" type="med.core.structure.LocalVariableDeclaration" id="5231257431511446359">
            <property name="name" value="steps" />
            <node role="type" type="med.core.structure.GenericIntegerType" id="5231257431511446360" />
            <node role="init" type="med.core.structure.DivisionExpression" id="5231257431511446364">
              <node role="left" type="med.core.structure.ParameterReference" id="5231257431511446363">
                <link role="parameter" targetNodeId="5231257431511446346" resolveInfo="time" />
              </node>
              <node role="right" type="med.core.structure.IntConstantExpression" id="5231257431511446368">
                <property name="value" value="100" />
              </node>
            </node>
          </node>
          <node role="statements" type="med.core.structure.ReturnStatement" id="5231257431511446370">
            <node role="expr" type="med.core.structure.DivisionExpression" id="6177678091395682516">
              <node role="left" type="med.core.structure.LocalVariableReference" id="6177678091395682517">
                <link role="variable" targetNodeId="5231257431511446349" resolveInfo="ds" />
              </node>
              <node role="right" type="med.core.structure.LocalVariableReference" id="6177678091395682518">
                <link role="variable" targetNodeId="5231257431511446359" resolveInfo="steps" />
              </node>
            </node>
          </node>
        </node>
        <node role="type" type="med.core.structure.GenericIntegerType" id="5231257431511446339" />
        <node role="templateFragment$attribute" type="jetbrains.mps.lang.generator.structure.TemplateFragment" id="5231257431511446381" />
      </node>
      <node role="imports" type="med.core.structure.ModuleImport" id="6556431234484085968">
        <link role="importedModule" targetNodeId="4.3454436015656157027" resolveInfo="EcAPI" />
      </node>
    </node>
  </node>
</model>

