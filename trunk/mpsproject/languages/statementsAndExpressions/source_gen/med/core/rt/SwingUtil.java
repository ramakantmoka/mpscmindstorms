package med.core.rt;

/*Generated by MPS */

import javax.swing.JComponent;
import jetbrains.mps.smodel.SNode;
import javax.swing.JButton;
import java.awt.event.ActionListener;
import java.awt.event.ActionEvent;
import javax.swing.JFrame;
import java.awt.BorderLayout;
import javax.swing.JTextArea;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import javax.swing.JPanel;

public class SwingUtil {
  public SwingUtil() {
  }

  public static JComponent getComponent(final String elementDescription, final SNode node) {
    JButton b = new JButton();
    b.setText("edit");
    b.addActionListener(new ActionListener() {
      public void actionPerformed(ActionEvent p0) {
        final JFrame f = new JFrame();
        f.setTitle("Edit Documentation for " + elementDescription);
        f.setSize(400, 400);
        f.setLocation(200, 200);
        f.setLayout(new BorderLayout());
        final JTextArea ta = new JTextArea();
        if (SPropertyOperations.getString(SNodeOperations.cast(node, "med.core.structure.IDocumentable"), "text") != null) {
          ta.setText(SPropertyOperations.getString(SNodeOperations.cast(node, "med.core.structure.IDocumentable"), "text"));
        }
        f.add(ta, BorderLayout.CENTER);
        JPanel buttonPanel = new JPanel();
        buttonPanel.setAlignmentX(0);
        JButton okButton = new JButton();
        okButton.setText("OK");
        buttonPanel.add(okButton);
        JButton cancelButton = new JButton();
        cancelButton.setText("Cancel");
        buttonPanel.add(cancelButton);
        f.add(buttonPanel, BorderLayout.SOUTH);
        f.setVisible(true);
        okButton.addActionListener(new ActionListener() {
          public void actionPerformed(ActionEvent p0) {
            SPropertyOperations.set(SNodeOperations.cast(node, "med.core.structure.IDocumentable"), "text", ta.getText());
            f.setVisible(false);
            f.dispose();
          }
        });
        cancelButton.addActionListener(new ActionListener() {
          public void actionPerformed(ActionEvent p0) {
            f.setVisible(false);
            f.dispose();
          }
        });
      }
    });
    return b;
  }
}
